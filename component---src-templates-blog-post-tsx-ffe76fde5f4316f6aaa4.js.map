{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es6.string.fixed.js","webpack:///./src/templates/blog-post.tsx"],"names":["createHTML","this","BlogPost","data","post","title","frontmatter","date","author","siteData","siteMetadata","imageRelativeURL","featuredImage","childImageSharp","fixed","src","siteURL","siteUrl","imageURL","undefined","tags","sort","tagsSEO","map","tag","name","content","schemaSEO","type","JSON","stringify","datePublished","headline","image","blogSEO","meta","script","dateTime","className","key","link","kebabCase","dangerouslySetInnerHTML","__html","html","query"],"mappings":"6FAEA,EAAQ,OAAR,CAA0B,SAAS,SAAUA,GAC3C,OAAO,WACL,OAAOA,EAAWC,KAAM,KAAM,GAAI,S,+LC4FvBC,UArDqC,SAAC,GAAa,wBAAXC,EAAW,EAAXA,KAC/CC,EAAOD,EAAKC,KACZC,EAAK,UAAGD,aAAH,EAAGA,EAAME,YAAYD,aAArB,QAA8B,gBACnCE,EAAI,QAAI,EAAAH,aAAJ,EAAIA,EAAME,YAAYC,YAAtB,QAAyC,GAC7CC,EAAM,oBAAGL,EAAKM,gBAAR,aAAG,EAAeC,aAAaF,cAA/B,QAAyC,GAC/CG,EACJP,SADoB,UACpBA,EAAME,YAAYM,cAAcC,uBADZ,iBACpB,EAAiDC,aAD7B,aACpB,EAAwDC,IACpDC,EAAO,UAAGb,EAAKM,gBAAR,aAAG,EAAeC,aAAaO,QACtCC,EACJF,GAAWL,EAAmBK,EAAUL,OAAmBQ,EACvDC,GAAO,UAAChB,SAAD,UAACA,EAAME,mBAAP,aAAC,EAAmBc,YAApB,QAA4B,IAAIC,OACvCC,EAAUF,EAAKG,KAAI,SAAAC,GACvB,MAAO,CACLC,KAAM,cACNC,QAASF,UAAO,OAGdG,EA9CR,SACEtB,EACAE,EACAC,EACAU,GAKA,MAAO,CACLU,KAAM,sBACNF,QAASG,KAAKC,UAAU,CACtB,WAAY,oBACZ,QAAS,cACTtB,OAAQ,CACN,QAAS,SACTiB,KAAMjB,GAERuB,cAAexB,EACfyB,SAAU3B,EACVoB,KAAMpB,EACN4B,MAAOf,KAyBOgB,CAAQ7B,EAAOE,EAAMC,EAAQU,GAE/C,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEb,MAAOA,EACPa,SAAUA,EACVU,KAAK,UACLO,KAAMb,EACNc,OAAQT,IAEV,iCACE,4BAAKtB,GACL,0BAAMgC,SAAU9B,GAAOA,GACvB,iCACE,wBAAI+B,UAAU,gBACXlB,EAAKG,KAAI,SAAAC,GACR,OACE,wBAAIe,IAAKf,UAAO,IACd,kBAAC,IAAD,CACEgB,KAAI,SAAWC,IAAUjB,UAAO,IAA5B,IACJC,KAAMD,UAAO,WAOzB,6BACEkB,wBAAyB,CAAEC,OAAM,UAAEvC,aAAF,EAAEA,EAAMwC,YAAR,QAAgB,qBASpD,IAAMC,EAAQ,c","file":"component---src-templates-blog-post-tsx-ffe76fde5f4316f6aaa4.js","sourcesContent":["'use strict';\n// B.2.3.6 String.prototype.fixed()\nrequire('./_string-html')('fixed', function (createHTML) {\n  return function fixed() {\n    return createHTML(this, 'tt', '', '');\n  };\n});\n","import './blog-post.scss'\nimport { BlogPostQuery } from './__generated__/BlogPostQuery'\nimport Layout from '../components/Layout'\nimport React from 'react'\nimport SEO from '../components/SEO'\nimport Tag from '../components/Tag'\nimport { graphql } from 'gatsby'\nimport kebabCase from 'lodash/kebabCase'\n\n/**\n * Generates the Schema.org SEO for the blog\n * @param title Title of the blog post\n * @param date Date of the blog post\n */\nfunction blogSEO(\n  title: string,\n  date: string,\n  author: string,\n  imageURL?: string\n): {\n  type: string\n  content: string\n} {\n  return {\n    type: 'application/ld+json',\n    content: JSON.stringify({\n      '@context': 'http://schema.org',\n      '@type': 'BlogPosting',\n      author: {\n        '@type': 'Person',\n        name: author,\n      },\n      datePublished: date,\n      headline: title,\n      name: title,\n      image: imageURL,\n    }),\n  }\n}\n\n/**\n * Page template for a single blog post\n */\nconst BlogPost: React.FC<{ data: BlogPostQuery }> = ({ data }) => {\n  const post = data.post\n  const title = post?.frontmatter.title ?? 'Missing title'\n  const date = (post?.frontmatter.date as string) ?? ''\n  const author = data.siteData?.siteMetadata.author ?? ''\n  const imageRelativeURL =\n    post?.frontmatter.featuredImage.childImageSharp?.fixed?.src\n  const siteURL = data.siteData?.siteMetadata.siteUrl\n  const imageURL =\n    siteURL && imageRelativeURL ? siteURL + imageRelativeURL : undefined\n  const tags = (post?.frontmatter?.tags ?? []).sort()\n  const tagsSEO = tags.map(tag => {\n    return {\n      name: 'article:tag',\n      content: tag ?? '',\n    }\n  })\n  const schemaSEO = blogSEO(title, date, author, imageURL)\n\n  return (\n    <Layout>\n      <SEO\n        title={title}\n        imageURL={imageURL}\n        type=\"article\"\n        meta={tagsSEO}\n        script={schemaSEO}\n      />\n      <article>\n        <h1>{title}</h1>\n        <time dateTime={date}>{date}</time>\n        <section>\n          <ul className=\"BlogTagsList\">\n            {tags.map(tag => {\n              return (\n                <li key={tag ?? ''}>\n                  <Tag\n                    link={`/tags/${kebabCase(tag ?? '')}/`}\n                    name={tag ?? ''}\n                  />\n                </li>\n              )\n            })}\n          </ul>\n        </section>\n        <section\n          dangerouslySetInnerHTML={{ __html: post?.html ?? 'Missing body' }}\n        />\n      </article>\n    </Layout>\n  )\n}\n\nexport default BlogPost\n\nexport const query = graphql`\n  query BlogPostQuery($slug: String!) {\n    siteData: site {\n      siteMetadata {\n        author\n        siteUrl\n      }\n    }\n    post: markdownRemark(fields: { slug: { eq: $slug } }) {\n      html\n      frontmatter {\n        title\n        date(formatString: \"yyyy-MM-DD\")\n        featuredImage {\n          childImageSharp {\n            fixed(width: 240) {\n              src\n            }\n          }\n        }\n        tags\n      }\n    }\n  }\n`\n"],"sourceRoot":""}